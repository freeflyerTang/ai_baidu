package com.carol.util.ocr_cards;



import java.io.FileOutputStream;
import java.io.OutputStream;

import sun.misc.BASE64Decoder;

public class Base64Utils {
	/**
	 * 对字节数组字符串进行Base64解码
	 * @param imgStr
	 * @return
	 */
	public static byte[] Base64ToImage(String imgStr) { 
		 
		byte[] b = null;
		if (imgStr == null) //图像数据为空
            return b;
		
		BASE64Decoder decoder = new BASE64Decoder();
		try {
			// Base64解码
			b = decoder.decodeBuffer(imgStr);
			for (int i = 0; i < b.length; ++i) {
				if (b[i] < 0) {// 调整异常数据
					b[i] += 256;
				}
			}
 
//			OutputStream out = new FileOutputStream(imgFilePath);
//			out.write(b);
//			out.flush();
//			out.close();
 
			return b;
		} catch (Exception e) {
			System.out.println(e.getMessage());
			return b;
		}
 
	}

	public static void main(String[] args) {
		String img = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcUAAAEaCAYAAABgqUx+AAAgAElEQVR4Xpy9ua8t2ZbuNaKP1a/dnHMyb96misdDQpiYzypwEMLCxQRhPQmP/wCJwkMIFwMJFxsJRJWDkLBpjHpUc+/Nm3nOblYbfYd+34y5zsq8VY+CKaXy7L3XihUrYsZovvGNbwT2/2N9X5b/LBujfzaGwa+avv83uj74NzOzTWN24XD96bSNd7tzc7lus836fP+3f+jj/vD6ZRM0fbBbLW253+u97eRe3Y/d/C+zqu/+6BD5ahU8Llbnf9lX8efy9vnLNsySieMs4sQe9g86558vvkM7TZYGgf7Ev6MoNr7P4XjY+NenWRasFkv97nQ8B1mSWL5aTJnNbzTT90nqZptEsXVDb8XlalVT2WqzMa7Tshu2QxJNw+UYnIrGgjyzxqYpvBZBn6S2y7PbOXTXq/7Ne1e73ZRNFpwD03ePL8dt3/XWDoEdi6sNbWOfdlsLk1jvaaraskVuoSU2mruOY9fr/+kyt/ViZdeqsLasLTWzMI6t7nvr+t6SONb/WZ8edrZcLK2bRuvq+nbp2ra3fhgsTRN3vu1P7xW/j6PQ+mG8vYefkzi1rm+trBp3Tn2vz75/Pcfis6I4tny5sMVq6TeH3vv3HZMX8DdLc7O2tr4orb5cLF0sLF3kFkWhBVGkY05NY23TWtu5z/ZrTNLbd+Jc/XdcLtw9yeLIwjCyrm2sn79vW9XaN4vt1oIwsiGcbOj729/jNLHEQhuGzlquRcrVdsdq+kH/5vvEk1mWJ7fj10Wla5MmsQVBZFPXal9yvlnOMSJr6sriJLZsubCxn6xoWwujUNfdX2e+A79bZe4+NXVnfVPrfVyTYQotjgPrLdD3bZvG1puVJXmue8B15Dy0bxa58X10zv1kp8vF2q61xcLdn/X8Gaei0u8/7HfGHi3aTsdjxVFkaequub53FGovFBf3SEeLpW35PsNo16axiP2Y58Y9uA6D9it7k72t/dP12s/+933kzm+VRnYqa8sDs9V2bcX5anVVWb5Y6Geez0s3WHG52MvlrA9fRfF2uVxasl7rGKcvX6wY+vN2sdpGi4VhS7wN+Rf/1//pvs9itd3ttxP2QNdovZiwbSl7d7s2by/qotLfv/3uFz+xXe3L25bnd5Xntvrm0+1v59f37VSXFseJznXKM9kjfl80tXH8tu8t6jrL1xvbPj/+0XGxP6whTizL0j+yZ9hFzhUbxvfCrnGe28e9zltvvlv+771ltl6FUxwmwWa7/snreM2UpbLR71WxPV5Ke/3yZo/ReP703a+3HM6/x9vnv88u896gaW/X+4fTYfv2drQkzW2TR9Nvvvnwl1kc/x/jOPyv4RD8bx93+b/4+fn+Y352Fv8fsb6c6n81jIJ/vxqHf6c4NX82jb0NQy9HkYaBGYZlfrirunKbs48sSRNbLBb6ucfYhaGN42hdYDaEZmmWWHEp7fe/+zu95p/+yZ9YHudmQ2v1NFo/hjZ2g/U22NCOVgeRBUNrw9hbVRXyBo+bpS1WK1tOoS2iQEYuiNxDNg29DBKrGwc7H9+nIEncZp1S2ywTS6ZJmyyKo2noh9s1YQN5w853ZR37djoMfGGzPE/sIcUAbW3qGrt8/mJN1+khwOH6FfVTwAbEyOdZJgfP5xRVpWu4kCNd3X7/cj3rgcLB+o3OcTeLhRzkEEYW1M6BrDZrC/NsKk6ngIeZB2a5WVt5udr5fDIe6N3SGQtvEDAeizy3MIqtaWsZDxwnvxsq5+S8Y6vLSteP64shxTB5x7fIcrM41OuHrrPrtdS/MXL5IrMRgzUbYI6DM9uu11ZWpYU4oyCyBAMfRdbWjR0OB+cMtZ0SGT7+zuL7XLle87nsd1uLQxcrdd3gnJK5W4dz4XoP02Bjj3M369vB+qaxeLjFV3rtWDeWpqkCkauzg5blOMzI7Z9FbtX1KsOP07s2na0XC9vuVu7vBCHjKMcVh5GNx5N9Ph5slaT2+Mvv3Gd0nQVRaBV7qKx17NgCXbMpia2bHXwafg0WqmawsapsnWYW67uMdjic5NQ/7R8sStz+8sdI5p+7rrO27zBgFmaZHd5e9Wxu1iuL09zasbHi6L4PzwnXSd/hWuq8ehtt7Ae9P0hia5rWLkVxc7RNWRlOv63cM873DBaZLddba8fOjj9+0e+fPnzUM5sluUVxYG8vb3KkD09POt6hKCwl4HvY3QKLZhi0J9hTOKzT8WBlP9jTZmPb/Vb76XoprKpKW2222mfl6IIInctqrf2M02UvB8nCira2NIr1fLOOx6MCRvYIe0zPAvt4Xqe6mh3fYB82G8t3+5t9q6rK+t7dI9mG2a7wbF7HUcZ5u8ltm67s5fMP9uVa2cf1wrafnvUeDHqy3gSX4mLN4Ww83yQB2NAgjC1OUwVB2IXX83HapMtgQRAxmA11ZddrZYtgsDXnFLigrBwL+/xysaG7Wvaw1Wcn46igKI5Ss6C3tixlx7iXcRxanBDIuM+yKbY+D6zvJiubyS7l0fqmt+V6ZUkaWV22drnUttnk9s2HrVXtZNeitHB0+29sK2vGwRb52jbL2NJFaHE/WRgFVvaT1VVrb6eTRSF20p2z7sOhsCZo7bvHR/kI/EDbdFbVrcVhYA+rhRmBWTcZKRF2ku8/TL1FQWxTmFnfdXaqjjoex/EB2FhXVpTF9PF5/5eLMPofxmH67/+/OMj/V6eIM7Qk/E/+6vPrP8/S1NIks8ASsw6j7ByFXzjBdujt1Ja2yGJLbGnBemWrzBmY6M4gDXJe7uPPRW8/vv5omzi17775oAg3JktLQ5v3nfURTpaoONBFYnFzymthXTzZIkp0M+Ms1r+JFNlsuL9bntn1VtW1HsbJOuu6yXZxZGkwySH+5LtEkU6OhyAaeiubzvqutt9dK+uTxLIptbp8uz0Im9XG4iizob7Y2OHMu4ksUg9jN1pDADH2Fi+XtiJImGJ7P75ZW5W3h+txu7WH7d5eyrOdiqseitVmZafTcRobwgizT09Pli2Xdj282/lwcE7wYc+JWtV1crBJlltdXJUZ8vn5bBDqobd4dNkbjtySSH8Pxs6K4mrd7BQwOLvNxqqm1sPknVyeZsoODy9vck4YNDJGObW+s6ooXUaCMwtCs6a1KQ4NO/L68qLP3a0W1o+TM0h5YlGSWTRNVveDVdeLHgi8GJlpnMZyNCz+rqx09nJREOheyxnZJMfEOU3DYHGWWRqn7rVy0omVXaNscJHMD2YYmvGecbQoDPV/nCIOcbFZK8NjkeVNA2jFYJfDURnOxw+PtsyXekD933gt17l4e9P9JJgJ4tgdK0nljDD4YT9aW1Zy0AnnvlxYl7lzUtY6uXOWo+pas2b+GSNTt9bXtW0XC8szjH6s88ZZDMNg+XJpYZJYcT0rA3XniDHs5AQ3C+fIL1Vh4TBYkiWWJi5gba5XBSocy59bsnOAyPFwsLqqLd+sLcsS02PckJ0Pyqx91rjbP1jTkBHi/HYWj6F1Ftg0DtY1te6hf20bRpYnsa3WS4vTSLdq9jcKZgiwPDKQZpkCMpwXv7vPRgmiItCPKLZlEtm1bvSMe6eI8/IOMY4jez+f7G//8AdbRZF9+PTJHrc7i5PUvry9KEMkUz9XpW0XS/vVn/xGNuHl9T3wmdjjfmfrzdZevny2v/4bl4jk+co2z7+wp0+P1lednc4XG4Jm2q32Qd10hv/KLLFTcZzez8XN5n77+FEO+3h26M9yldtmubVoFdulrKy41hbMsTWOYBnGtswSy8kIx9Hqw2BlcLGyqK2cWvv06ZM97JZm/WR93VvdVMbnEySkySh7tIhz5wyj2Np2tI7/wtEwL91YywEOfWGLxcrCZGlxklhZVfZWHuwhXtl6t7NgbBQoYEe1d7rAlpvEFqlzYjhCFkEgzo/j7R+eLEt5JkJbLnIrq9qux1LfD5/iHfC1r2wdL2yVhbLPJEJh2ls9BFaXheXLla1WS+vH2KI8srfTxbI+tOfHlT6fdT038k/r3AWUXduc13n031o3/pf/GOf4L3WKxTT9e58P9X9XVOX23DYWxivL9htbRYGFw2RB+xU6w/GQ1XXToJupizWFMg4sDEU8tYoY/KpxYGloh0tjZXG2p+WDfdhvLYwGSy2yZRLcnCLvwTGyxiiwNLRb1NJGk6VDYG3XyDHyGRjUJMwtydznJWkgp1yXtWVRYg3QVVMpIolid2CiKL9whj//ub5e7DoEFmTOWLyfjrrhyyDVhl7ttgoGbOitqSpr6tbChGPGcug/WVNn7AicPBuXjR1bY2G6smJqLQ+nabdaB+v1Dam15lzIMePs5VhxFsXVXq6FIJPd05NtN2tlu+frRQ6Sh87DtRvBakIr7FhcZCzINPl/fbna4f2L9dXV1o8f7GG1EmzmMzPgJbIS5yQdBEr2h1Far5cypkBeQFo4SjL0gIAiTayuG7u8vdplGGwzZ2BxzsO5uBlioEQeXiA8Iu4kDOVQtXdmWBWjze9ZnZxBa7FFMpjaFzMsSxZFwEXiRYaGgyN4KurKcoKgOHGZ6rw3+Y7t0FnXDlw/ORYMOdmZ9kWaW3292o+Hoy3CwPYPj3KW0RgoIp/i2MautvPLG/if7fZ752TLQhlUvMCRuCwI48axhrKUU8Tx4CB81svn4Whj0PcoMuDyuqnNI87JfE7pcqkHXs9F0+o1OGDOlWzufDnrWm62O6vqUlnujuudZcoYyDx8xkrAxv3v4sjWBFVzQMCxuZbnwhnt9XZ7u2YEFGSlZVHYtXQIwdPjo+V5bkVVWhSElqSpzrEsC11b4N6665T1BZxH3QE/WoYzHgcbLZLTK7vu5jyBbUEbqqJQoMbfzq9frGgb2252yhhBNYYosizNrGmdUyRrnMJEGZ0vW/D/c3m198NR0KT/PedezGUAniGeLbI1n1lhC/LF0h4edtaUpb0fT/aOLTi8WJms7V//zZ/adrc1MkkcIuf74fnBnp6Xdnjr7POLy55PjUMivnn6hT08b2UTpsZlutijZobfs83Gmq6yv3n5YktQpM3WVkEmuDub4XUc99DWtlxvrLPYSiBrbFAW2VBTBmhtJCgNYstAqJa5srh04jmZrJ7MynN1+0zOIUydTcE5Lhdra6dRjuf6Vtjffv6sv3373Qf7bruRLVWCwr2pawviyKIo13kP/SDbG8a99WVnURradrsm8bNqNDmva9XZ8f1yc4q8pyhOVk2B7dOlLfPEUgNJSbUfQfn6KRTU7ZMpzuflerXD21GZ4mqzvGWbiyi29TK1NAqsHSbDC+Act2n4nz2vs/9CX+YfWP+gU3y9Nv9pNQR/fgX/b0qr6sAm0vHd0tZxYPlktpijWh17ilXfIAPUJmsGO52uVgWD5VliQT1aFnyFh3CY/m84hfrC61p72n7QzU+CwZIJ4zC/585h6cZNZnXbKJoADSWLaSazpnTOh7QeqDWfBt1sUns2oI8CtRGb0h4WawvwsEGv76DF/+YkuB9c1IOD1IMyUNPKrR4IRnpb5oGFnem4wdQr0lvlcw2vqaxvW2vGn15mHxnuHx8U+cWzcT6fzooaPRTC5+aTTavlKsiSTHBIcTnZ5Xq2tTLOB53b57fv7fD+Zg+PT0YkSyTRlbUc3ma9scv1Yq+vL2Z1ZR8eHmz39GxFN1h5Oaj+qM+Zs8mquhhgEtkeGSLGiBDnabuR8fHwVlMNdjm+6uHDMOme1LWr9SSJLYFnslSGBQNNhoCzJKPBcGHAwhluH7lGCrrinzhF3u/uk7sHOEKcIo6Wa4bxJ0gA7sNpYORz/palcoTAliycHDAi2c766UH1vA4TDITPPioqZWA46g/Pz3JGHJsVhIOyqZfDAQxHhpHVVq3gwTRKLF+vVRp4+f57GW6fHfZtbZdrYeFicauxjW2jYMG6VtciyhcWLBdmI1VkMuNJ2eQYh3KgLDLSYI6+cbY4QBy7INMwtLppZVSBSMmyQSBL6qd1a8BvMQ6MWirZ+Xoth18ejjaRfduk68XfcHAEsRghDwHj4HUOXWfxmuwhsa6qBMnxfr84juFUl6tbtrlYr+U4yTzPM9y65hx5vIJAiAErXX0Nqn4OvQPDs+eKslRmyh6rrmeLsvzmEDnGFZRkrlHiCIFOWTg+6vWUF7SXZvSEZwMkBAfJenzYy+En2d7SZLLD+Wi/+/3v9Ldf//pPbYVDLCr77fe/s74qLV4sVc7ow0x7VrX8trf9JrOH5YMNaWg8zyBnBLw805v9s5zUEAdyOvkc5PtreDpe7O3yLiSKdSDjMbOH57095ZQdKiuPPyhoXK92tt+sLOW1WWhvh0Z/5/6NXalMOOS+Jvzngm89Q7MTIwPza527vaRnqu5ly3Bk7ThZN4SWZy7hOBSlELL9w8qyMZBDxTETxIOSbdjHZrYgyFsk1rSjSl+s7dplp831YtliYZemMWDkx83e4iy3a9tYeT4YaORu+2jxDB2wNwn6rnWhe5ntna3xp386FXY+vdt292hZsrCGbH8cbtdmmOH1RWy3z/z10/4vsin8j/+hrPHvdYo4xKYd//N2CgLit5LN2E3WWKo0l+iBbDGdjY6/uOMQarNzkzwkykV8+PDo3jPDoryGk+0mao5EG5OdrqXVZSnsmg3TNwWgmHtogGyTTLgz/kspOgXlkTpZpbScCAKo1GdkLVkNhqcddZH8wrHv1jNJg4emq22RRnI4CSH6vNoOeLebhj4J+D+/Pl+uQYtJXeQO2iJ6XrIxA8EVGCIegjScVJPJMrdJgDqoo/L3sgaSnEkKwINASBjNZWJV2VmBo+l7QTRkmW2DqzejLrnZrFSTrJsm8PUN7zh4DXUJHGY8n9siW9gqX8igeWINr4NoAxQGnPT6+ibSD3XHbba2unZZAdfXk20wVGSN+r4QLuJUBoXMLA15eEY5TxaQKjhY33e2Xa7kyIrTURmK/5ma8yJ314Z/j00jp9mEka3SxLabrTIwnBDLO0X+zfGokaV5ZjgYazudB1mgd7ycI1kezkX3rSitKgs5vc3DXjVGnrksCARTnq4XOczFcqXaqc9QCbTIbvRQ8v44tc1uK6eJE6zOF6V1ZEUs6pPhaiUjH80Guj1frKxLQZks/r2gTkj9tu30M99Vtb15+2GcVH9vWzk9st1pGG9Zb1OddKzQXCbGd2U/9r0LQHEYQ1NbU9SWZqGidr4n+8Bdw+Hm0MI8U3YHFFtdrtZQXohjez+fVS9cr1bKFgX/z1m+AhsIbz1QdaqsDPj9eDiKxETAw3XTuY1m+SIXqYjHkOsHuYX7wTVnxauVYHMhBRDtFksFvECo20VqQZzdnKLOn2eoaw24dkUpoe+UEbI4BitJlraYn/PqWmp/hGlsizDRdaCUwM84QpCC7dI9Dw1ob90EBJGQ3BYY5X404FO/Vlluj/tP1sVmX15e7eXybnlTW7b9KMSIc6gK52xxhD7z5N6sVxs5S4JfyEVkejgXbBQ8iR9/+IPe9/Srb22/frLi+G6XvpUz8gteE9AmmaGeoaJWbY3XAKHvEkoYiUOt4sDaiv3R2VjV1oCeTL0QpHSVir9BTE6ZCrjz7Xixqun1XrI1kJjldiF0zjteoE2gXOshirnrzXckSHD1dYhaOCGXReIkd1k4jb4kRRBzrayxzlbZUjC6d5KUoTbbNZisxVGs2mQFlHwpjFIS9+sr7dIlRjjsZb61ru6svLpMff24VbLUXBt9V4KCc1vY1HXie0DkyfLp3/1uufxfbhd2/scfOUUcYll2f84mgzjjTwKCAZEdGzQNQltmgeVjfys8i3AxZ1pVCDGis5e37y3eLO27p49KeXGi8fwaLiVwKAEMyOL5fLWy7my1zuXgrOut7jsr77LL1ZzNcO5kTqzjpZWjBjbAKcZf/ZrLXHG+dWdnIsy5PkOGsoRxliW2jQPdQDLDSeEHNcevBWE+g4vO9cARhYutoJqmu1pgqS0z92CpBsbN5oEtnMPMwkkF7Shb2DI2O1x7u5Rn3STWdSx1k2B7TVmsm7VKFgEYfzBnR9QgqUnWlYOoMJ5sQM7ncikE42RtY6vHZz2onP/p9VVOSQaHY6aRomiMFexSSAycb7Z7sKGsZSDIFPvOZUefPn0jg/r28gdFms/ffpKjI1oPgcDmCP/h4UFEmK6q7XC5uDrjZiNIDHgFh1dUta0gMwDz9K02rI/+VQeFlDU7P886xSmSDYY4Bmoa10JZ1cR+AabJV6q/4RR13tNkl/NJBBAMKoX7DnYjBfwwVJYHG3S5fzAjiwyog81OEeIQdekRh5LbkIVWiCgQySlE0yhnwWLfcP2pEXLOZFw4G4g4ZCA4kHC/szGOde66/kGgjLWD3cpnmav1EUmTCRLEWDs4Z+vX7HSvZHNdq89Lo1BZpbLv6mRtM8rhxautnP+lLATX+4BihCV6LewK7Ljfy+mVx5OMI5kD5KK2bS3Zur0OIIKjw1E97veWLhfOSfadJdz7GbbF8OEcuT5krCxg1Yqs+Hi5wZ6OMBXYcrVSdkpgU7btjU07UEsH9p2DkXSzVH34BqP2rUg1GMwxdEEZtUX2Tl01IuGAUAi6j4BJgd+uYp560hh1xqpotL8JDhNqTHFkP3z+rOcDBjfOUM94AFgEwnIRIY3nZvf8rN99/+OPeg2MTp4xkCUC6M+no/3d64s9blfTJtsFGF6MPQ5RJDmyue3W4jy2uq7tei5tOW0s3QXiKFC+Yfma4D5b2mUIVJL5+PQsxOF0utjx8KbXUeeLd0uLmtFer2dByY+PT84u9C4we1gm9rjJ9H2qAuJKrcQgC9lmvQvAFwtn88SZgH3cC2koLLLr6aR9ThkrtcaSYVJwX/KMlb21NsluYv+xtdhEnPkuWVm2DI143zNN+BvP4ZJAh3qbShFZUAo9uijoz7cP8gHsXzLHT1uXsdddr3vPul5dg8B+vbEwTRz5kT1PCaxrnGMlyGxqK66tHOB6vXAEHXgGM+IiWD2alKly/CwMzn+fY/yJUzx2079dXOr/kROopkl/I+qE7lwMg5hILJg/XJhV0IgBxArnyH/CclHML3vV3ILFZE/PHwW3khI73ie49pxV8kBGgUgzTdmIobSbmX1cRzKWeOhltMhW/ZpUuu4VZYHB49x03DkrE8s1CZU54hhhusJsOhedAdd5x5jHg1hLi9suAdrpLWpCG6KZvgwJREYOIs/C2mbShs7WQAYrXR8ufhqmipJYQ4NDcI4syZaCJ4CSWIG/CKoHwdqsbGwLcxHozoLlUlCNf3+GE01Cm4DJmlYOEfgURpajiA83OIff16ejHur9DH0BO6TBKMMxzpFdUw8yFlNb2Xr7KFLT++urzo+CvTbjmyPUePo7DgcW6Mv7m3OWHz4oFuoFyVTaaBguHBFOtyquIqaIXEPdsqz0d9HfZyIOzD3tn5nk4e9vALQYRWLB4VROJfXU3tLtxtZ5av0YqG5JNke2VZwuls+FfxwoC8PPaoqrM867nQgvMDu5BdQdyMBwWLBBAxxeFNq1qcVkxbFnNjmYkxokGQ1Z3FxLp36Hc4Rc49tdVh8/6jPJ9FQXZOFArtebo6beLZJMEMuxj1cIBEsL89xwZsChnukLcUV7hnokjpoaZhZbfcYBDZatqN3kIgKNVWMJznPeg31ZySkKYlNw14ltifPHoflz1vFhj1N/aVpbZtTiMxGRfH1wMOr7re22O10jVlXWujYrsvaYNorKhtnR5TAr2X9hqMDmWtXaI0IIaE2AwNT2ysD5GagVUhX1Z34mgDodTjKQO65Nlul37BOM4hk280yyIdjze5t9DSriywKgICAmz89PyqS7urHf/vB72253tl9t5CgtzayoC+vOrlWKZ+cDJYaxF8xMJutq+Lmg1Q44dy5jlH1k++3a1pu1XS9XuzSnG2s0GmcEQZB3ZW1TTHG0DB7nAOh9hld9drt7frQojOzl4hig9/yLLIwEaQ4gM9Hkyhp1p3rjjiBqjOXQWE+7hZ...";
		String[] imgStrs = img.split(",");
		String imgStr = imgStrs[1];
		BASE64Decoder decoder = new BASE64Decoder();
		byte[] b = null;
		try {
			// Base64解码
			b = decoder.decodeBuffer(imgStr);
			for (int i = 0; i < b.length; ++i) {
				if (b[i] < 0) {// 调整异常数据
					b[i] += 256;
				}
			}
 
			OutputStream out = new FileOutputStream("D:\\development\\apache-tomcat-9.0.4\\ocrwebapps\\ocr_cards\\temp\\1.png");
			out.write(b);
			out.flush();
			out.close();

		} catch (Exception e) {
			System.out.println(e.getMessage());
	
		}
	}
}
